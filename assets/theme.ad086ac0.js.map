{"version":3,"file":"theme.ad086ac0.js","sources":["../frontend/components/details-disclosure.js","../frontend/components/localization-form.js","../frontend/lib/utils.js","../frontend/components/sticky-header.js","../frontend/lib/a11y.js","../frontend/entrypoints/theme.js"],"sourcesContent":["export default class DetailsDisclosure extends window.HTMLElement {\n  constructor () {\n    super()\n    this.mainDetailsToggle = this.querySelector('details')\n    this.content = this.mainDetailsToggle.querySelector('summary').nextElementSibling\n\n    this.mainDetailsToggle.addEventListener('focusout', this.onFocusOut.bind(this))\n    this.mainDetailsToggle.addEventListener('toggle', this.onToggle.bind(this))\n  }\n\n  onFocusOut () {\n    setTimeout(() => {\n      if (!this.contains(document.activeElement)) this.close()\n    })\n  }\n\n  onToggle () {\n    if (!this.animations) this.animations = this.content.getAnimations()\n\n    if (this.mainDetailsToggle.hasAttribute('open')) {\n      this.animations.forEach(animation => animation.play())\n    } else {\n      this.animations.forEach(animation => animation.cancel())\n    }\n  }\n\n  close () {\n    this.mainDetailsToggle.removeAttribute('open')\n    this.mainDetailsToggle.querySelector('summary').setAttribute('aria-expanded', false)\n  }\n}\n\nwindow.customElements.define('details-disclosure', DetailsDisclosure)\n","class LocalizationForm extends window.HTMLElement {\n  constructor () {\n    super()\n    this.elements = {\n      input: this.querySelector('input[name=\"language_code\"], input[name=\"country_code\"]'),\n      button: this.querySelector('button'),\n      icon: this.querySelector('svg'),\n      panel: this.querySelector('ul')\n    }\n    this.elements.button.addEventListener('click', this.openSelector.bind(this))\n    this.elements.button.addEventListener('focusout', this.closeSelector.bind(this))\n    this.addEventListener('keyup', this.onContainerKeyUp.bind(this))\n\n    this.querySelectorAll('a').forEach(item => item.addEventListener('click', this.onItemClick.bind(this)))\n  }\n\n  hidePanel () {\n    this.elements.button.setAttribute('aria-expanded', 'false')\n    this.elements.panel.setAttribute('hidden', true)\n    this.elements.button.classList.remove('rounded-b', 'md:rounded-b-none', 'md:rounded-b-none')\n    this.elements.button.classList.add('rounded')\n    this.elements.icon.classList.remove('rotate-180')\n  }\n\n  onContainerKeyUp (event) {\n    if (event.code.toUpperCase() !== 'ESCAPE') return\n\n    this.hidePanel()\n    this.elements.button.focus()\n  }\n\n  onItemClick (event) {\n    event.preventDefault()\n    const form = this.querySelector('form')\n    this.elements.input.value = event.currentTarget.dataset.value\n    if (form) form.submit()\n  }\n\n  openSelector () {\n    this.elements.button.focus()\n    this.elements.panel.toggleAttribute('hidden')\n    this.elements.button.classList.toggle('rounded-b')\n    this.elements.button.classList.toggle('md:rounded-t')\n    this.elements.button.classList.toggle('md:rounded-b-none')\n    this.elements.icon.classList.toggle('rotate-180')\n    this.elements.button.setAttribute('aria-expanded', (this.elements.button.getAttribute('aria-expanded') === 'false').toString())\n  }\n\n  closeSelector (event) {\n    const shouldClose = event.relatedTarget && event.relatedTarget.nodeName === 'BUTTON'\n    if (event.relatedTarget === null || shouldClose) {\n      this.hidePanel()\n    }\n  }\n}\n\nwindow.customElements.define('localization-form', LocalizationForm)\n","export const isHome = window.location.pathname === '/'\n","import { isHome } from '@/lib/utils'\n\nclass StickyHeader extends window.HTMLElement {\n  constructor () {\n    super()\n\n    this.header = this.querySelector('header')\n  }\n\n  connectedCallback () {\n    if (!isHome) {\n      window.addEventListener('scroll', this.onScroll.bind(this))\n    }\n  }\n\n  onScroll () {\n    const scrollTop = window.pageYOffset || document.documentElement.scrollTop\n\n    if (scrollTop > 50) {\n      this.header.classList.add('shadow-lightHeader')\n    } else {\n      this.header.classList.remove('shadow-lightHeader')\n    }\n  }\n}\n\nwindow.customElements.define('sticky-header', StickyHeader)\n","export function onKeyUpEscape (event) {\n  if (event.code.toUpperCase() !== 'ESCAPE') return\n\n  const openDetailsElement = event.target.closest('details[open]')\n  if (!openDetailsElement) return\n\n  const summaryElement = openDetailsElement.querySelector('summary')\n  openDetailsElement.removeAttribute('open')\n  summaryElement.setAttribute('aria-expanded', false)\n  summaryElement.focus()\n}\n","import '@/components/details-disclosure'\nimport '@/components/localization-form'\nimport '@/components/sticky-header'\nimport { onKeyUpEscape } from '@/lib/a11y'\n\ndocument.querySelectorAll('[id^=\"Details-\"] summary').forEach((summary) => {\n  summary.setAttribute('role', 'button')\n  summary.setAttribute('aria-expanded', summary.parentNode.hasAttribute('open'))\n\n  if (summary.nextElementSibling.getAttribute('id')) {\n    summary.setAttribute('aria-controls', summary.nextElementSibling.id)\n  }\n\n  summary.addEventListener('click', (event) => {\n    event.currentTarget.setAttribute('aria-expanded', !event.currentTarget.closest('details').hasAttribute('open'))\n  })\n\n  summary.parentElement.addEventListener('keyup', onKeyUpEscape)\n})\n"],"names":[],"mappings":"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"}