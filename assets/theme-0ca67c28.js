import{_ as o}from"./preload-helper-41c905a7.js";function m(t){return Array.from(t.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")).filter(e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}const a={};function h(t,r=t){const e=m(t),i=e[0],s=e[e.length-1];f(),a.focusin=n=>{n.target!==t&&n.target!==s&&n.target!==i||document.addEventListener("keydown",a.keydown)},a.focusout=function(){document.removeEventListener("keydown",a.keydown)},a.keydown=function(n){n.code.toUpperCase()==="TAB"&&(n.target===s&&!n.shiftKey&&(n.preventDefault(),i.focus()),(n.target===t||n.target===i)&&n.shiftKey&&(n.preventDefault(),s.focus()))},document.addEventListener("focusout",a.focusout),document.addEventListener("focusin",a.focusin),r.focus()}function f(t=null){document.removeEventListener("focusin",a.focusin),document.removeEventListener("focusout",a.focusout),document.removeEventListener("keydown",a.keydown),t&&t.focus()}function _(t){if(t.code.toUpperCase()!=="ESCAPE")return;const r=t.target.closest("details[open]");if(!r)return;const e=r.querySelector("summary");r.removeAttribute("open"),e.setAttribute("aria-expanded",!1),e.focus()}function p(t){t.forEach(r=>{r.setAttribute("role","button"),r.setAttribute("aria-expanded",r.parentNode.hasAttribute("open")),r.nextElementSibling.getAttribute("id")&&r.setAttribute("aria-controls",r.nextElementSibling.id),r.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))}),r.parentElement.addEventListener("keyup",_)})}function E({query:t}){const r=window.matchMedia(t);return new Promise(function(e){r.matches?e(!0):r.addEventListener("change",e,{once:!0})})}function b({element:t}){return new Promise(function(r){const e=new window.IntersectionObserver(async function(i){for(const s of i)if(s.isIntersecting){e.disconnect(),r(!0);break}});e.observe(t)})}function v(){return new Promise(function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,200)})}const A=Object.assign({"/frontend/islands/cart-drawer-items.js":()=>o(()=>import("./cart-drawer-items-2dcdccb4.js"),["./cart-drawer-items-2dcdccb4.js","./cart-items-ebde81d6.js","./utils-3b9fa9c2.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/cart-drawer.js":()=>o(()=>import("./cart-drawer-b2567480.js"),["./cart-drawer-b2567480.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/cart-items.js":()=>o(()=>import("./cart-items-ebde81d6.js"),["./cart-items-ebde81d6.js","./utils-3b9fa9c2.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/cart-note.js":()=>o(()=>import("./cart-note-4014e637.js"),["./cart-note-4014e637.js","./utils-3b9fa9c2.js"],import.meta.url),"/frontend/islands/cart-remove-button.js":()=>o(()=>import("./cart-remove-button-22b29667.js"),[],import.meta.url),"/frontend/islands/details-disclosure.js":()=>o(()=>import("./details-disclosure-828d11cd.js"),[],import.meta.url),"/frontend/islands/details-modal.js":()=>o(()=>import("./details-modal-cbde87fb.js"),["./details-modal-cbde87fb.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/header-drawer.js":()=>o(()=>import("./header-drawer-28a07891.js"),["./header-drawer-28a07891.js","./details-modal-cbde87fb.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/localization-form.js":()=>o(()=>import("./localization-form-4e79aa6c.js"),[],import.meta.url),"/frontend/islands/password-modal.js":()=>o(()=>import("./password-modal-8d47984c.js"),["./password-modal-8d47984c.js","./details-modal-cbde87fb.js","./preload-helper-41c905a7.js"],import.meta.url),"/frontend/islands/product-form.js":()=>o(()=>import("./product-form-579765b8.js"),["./product-form-579765b8.js","./utils-3b9fa9c2.js"],import.meta.url),"/frontend/islands/product-recommendations.js":()=>o(()=>import("./product-recommendations-fc726c93.js"),[],import.meta.url),"/frontend/islands/quantity-input.js":()=>o(()=>import("./quantity-input-07f900c9.js"),[],import.meta.url),"/frontend/islands/sticky-header.js":()=>o(()=>import("./sticky-header-4f3be1c9.js"),[],import.meta.url),"/frontend/islands/variant-radios.js":()=>o(()=>import("./variant-radios-38becf30.js"),["./variant-radios-38becf30.js","./variant-selects-a9f52811.js"],import.meta.url),"/frontend/islands/variant-selects.js":()=>o(()=>import("./variant-selects-a9f52811.js"),[],import.meta.url)});function w(t){const r=new window.MutationObserver(i=>{for(let s=0;s<i.length;s++){const{addedNodes:n}=i[s];for(let u=0;u<n.length;u++){const d=n[u];d.nodeType===1&&e(d)}}});async function e(i){const s=i.tagName.toLowerCase(),n=`/frontend/islands/${s}.js`;if(/-/.test(s)&&t[n]){i.hasAttribute("client:visible")&&await b({element:i});const c=i.getAttribute("client:media");c&&await E({query:c}),i.hasAttribute("client:idle")&&await v(),t[n]()}const d=i.nextElementSibling,l=i.firstElementChild;d&&e(d),l&&e(l)}e(document.body),r.observe(document.body,{childList:!0,subtree:!0})}const g=document.querySelectorAll('[id^="Details-"] summary');w(A);p(g);export{f as r,h as t};
