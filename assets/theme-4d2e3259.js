import{_ as i}from"./modulepreload-polyfill-da3817bc.js";function c(t){return Array.from(t.querySelectorAll("summary, a[href], button:enabled, [tabindex]:not([tabindex^='-']), [draggable], area, input:not([type=hidden]):enabled, select:enabled, textarea:enabled, object, iframe")).filter(e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))}const a={};function L(t,r=t){const e=c(t),o=e[0],s=e[e.length-1];m(),a.focusin=n=>{n.target!==t&&n.target!==s&&n.target!==o||document.addEventListener("keydown",a.keydown)},a.focusout=function(){document.removeEventListener("keydown",a.keydown)},a.keydown=function(n){n.code.toUpperCase()==="TAB"&&(n.target===s&&!n.shiftKey&&(n.preventDefault(),o.focus()),(n.target===t||n.target===o)&&n.shiftKey&&(n.preventDefault(),s.focus()))},document.addEventListener("focusout",a.focusout),document.addEventListener("focusin",a.focusin),r.focus()}function m(t=null){document.removeEventListener("focusin",a.focusin),document.removeEventListener("focusout",a.focusout),document.removeEventListener("keydown",a.keydown),t&&t.focus()}function f(t){if(t.code.toUpperCase()!=="ESCAPE")return;const r=t.target.closest("details[open]");if(!r)return;const e=r.querySelector("summary");r.removeAttribute("open"),e.setAttribute("aria-expanded",!1),e.focus()}function _(t){t.forEach(r=>{r.setAttribute("role","button"),r.setAttribute("aria-expanded",r.parentNode.hasAttribute("open")),r.nextElementSibling.getAttribute("id")&&r.setAttribute("aria-controls",r.nextElementSibling.id),r.addEventListener("click",e=>{e.currentTarget.setAttribute("aria-expanded",!e.currentTarget.closest("details").hasAttribute("open"))}),r.parentElement.addEventListener("keyup",f)})}function p({query:t}){const r=window.matchMedia(t);return new Promise(function(e){r.matches?e(!0):r.addEventListener("change",e,{once:!0})})}function E({element:t}){return new Promise(function(r){const e=new window.IntersectionObserver(async function(o){for(const s of o)if(s.isIntersecting){e.disconnect(),r(!0);break}});e.observe(t)})}function b(){return new Promise(function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,200)})}const v=Object.assign({"/frontend/islands/cart-drawer-items.js":()=>i(()=>import("./cart-drawer-items-dad11072.js"),["./cart-drawer-items-dad11072.js","./cart-items-8314c585.js","./utils-3b9fa9c2.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/cart-drawer.js":()=>i(()=>import("./cart-drawer-f75d1a1d.js"),["./cart-drawer-f75d1a1d.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/cart-items.js":()=>i(()=>import("./cart-items-8314c585.js"),["./cart-items-8314c585.js","./utils-3b9fa9c2.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/cart-note.js":()=>i(()=>import("./cart-note-4014e637.js"),["./cart-note-4014e637.js","./utils-3b9fa9c2.js"],import.meta.url),"/frontend/islands/cart-remove-button.js":()=>i(()=>import("./cart-remove-button-22b29667.js"),[],import.meta.url),"/frontend/islands/details-disclosure.js":()=>i(()=>import("./details-disclosure-828d11cd.js"),[],import.meta.url),"/frontend/islands/details-modal.js":()=>i(()=>import("./details-modal-5eda7ce7.js"),["./details-modal-5eda7ce7.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/header-drawer.js":()=>i(()=>import("./header-drawer-ac841ceb.js"),["./header-drawer-ac841ceb.js","./details-modal-5eda7ce7.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/localization-form.js":()=>i(()=>import("./localization-form-4e79aa6c.js"),[],import.meta.url),"/frontend/islands/password-modal.js":()=>i(()=>import("./password-modal-1bab41bb.js"),["./password-modal-1bab41bb.js","./details-modal-5eda7ce7.js","./modulepreload-polyfill-da3817bc.js"],import.meta.url),"/frontend/islands/product-form.js":()=>i(()=>import("./product-form-579765b8.js"),["./product-form-579765b8.js","./utils-3b9fa9c2.js"],import.meta.url),"/frontend/islands/product-recommendations.js":()=>i(()=>import("./product-recommendations-fc726c93.js"),[],import.meta.url),"/frontend/islands/quantity-input.js":()=>i(()=>import("./quantity-input-07f900c9.js"),[],import.meta.url),"/frontend/islands/sticky-header.js":()=>i(()=>import("./sticky-header-4f3be1c9.js"),[],import.meta.url),"/frontend/islands/variant-radios.js":()=>i(()=>import("./variant-radios-38becf30.js"),["./variant-radios-38becf30.js","./variant-selects-a9f52811.js"],import.meta.url),"/frontend/islands/variant-selects.js":()=>i(()=>import("./variant-selects-a9f52811.js"),[],import.meta.url)});function A(t){const r=new window.MutationObserver(o=>{for(let s=0;s<o.length;s++){const{addedNodes:n}=o[s];for(let u=0;u<n.length;u++){const d=n[u];d.nodeType===1&&e(d)}}});async function e(o){const s=o.tagName.toLowerCase(),n=`/frontend/islands/${s}.js`;if(/-/.test(s)&&t[n]){o.hasAttribute("client:visible")&&await E({element:o});const l=o.getAttribute("client:media");l&&await p({query:l}),o.hasAttribute("client:idle")&&await b(),t[n]()}let d=o.firstElementChild;for(;d;)e(d),d=d.nextElementSibling}e(document.body),r.observe(document.body,{childList:!0,subtree:!0})}const w=document.querySelectorAll('[id^="Details-"] summary');A(v);_(w);export{m as r,L as t};
